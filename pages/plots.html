<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G20 Countries by Spending</title>
    <script src='https://www.gstatic.com/charts/loader.js'></script>
    <script>
        google.charts.load('current', { 'packages': ['corechart', 'line', 'geochart'] });
        google.charts.setOnLoadCallback(drawSheets);

        function drawSheets() {
            
            // drawSheetName('health_per_gdp', 'SELECT A,F,G,H,I', healthGDPResponseHandler); // DONE
            // drawSheetName('edu_per_gdp', 'SELECT A,E,F,G,H', eduGDPResponseHandler);  // DONE
            // drawSheetName('edu_gdp_percap', 'SELECT A,B,C', eduGDPperCapResponseHandler);  // DONE
            // drawSheetName('gdp', 'SELECT A,J', gdpMapResponseHandler);  // DONE
            // drawSheetNameRange('gdp_t', 'SELECT A1:M10', gdpResponseHandler);  // DONE
            // drawSheetNameRange('pop_t', 'SELECT A1:M10', popResponseHandler);  // DONE
            // drawSheetNameRange('pop_no_china', 'SELECT A1:L10', popNoChinaResponseHandler);  // DONE
            // drawSheetName('edumilpercap', 'SELECT A,B,C,D', eduMilGDPResponseHandler);  // DONE
            // drawSheetName('mil_gdp_percap', 'SELECT A,B,C', milGDPperCapResponseHandler); // DONE
            // drawSheetName('military_exp', 'SELECT A,K', avgMilitaryResponseHandler); // DONE
            // drawSheetNameRange('military_exp1', 'SELECT A1:M10', militaryResponseHandler);  // DONE
            // drawSheetName('military_per_gdp', 'SELECT A,G,H,I,J', militaryGDPResponseHandler); // DONE

            drawSheetName('eduhealthmilitary', 'SELECT A,B,C,D', eduhealthmilitaryResponseHandler);

        } // drawSheets

        function eduhealthmilitaryResponseHandler(response) {
            var data = response.getDataTable();

            var chart = new google.visualization.ColumnChart(document.getElementById('edu_health_mil_div'));
            chart.draw(data, {title: 'Education and Health Expenditures Against Military Expenditure in 2017'});            
        } // eduhealthmilitaryResponseHandler
        
        // function gdpMapResponseHandler(response) {
        //     var data = response.getDataTable();

        //     var options = {
        //         colorAxis: { colors: ['#6698e3', '#0845a1'] },
        //         title: 'GDP of Top 12 Countries (2019)'
        //     };

        //     var chart = new google.visualization.GeoChart(document.getElementById('gdp_map_div'))
        //     chart.draw(data, options)
        // } // gdpMapResponseHandler

        // function militaryResponseHandler(response) {
        //     var data = response.getDataTable();
        //     data.sort({column: 1, desc: true});

        //     var options = {
        //         // curveType: 'function',
        //         title: 'Military Spending by Country',
        //         hAxis: { title: 'Year' },
        //         vAxis: { title: 'Spending (millions USD)' }
        //     };

        //     var chart = new google.visualization.LineChart(document.getElementById('mil_exp_div'))
        //     chart.draw(data, options)
        // }

        // function avgMilitaryResponseHandler(response) {
        //     var data = response.getDataTable();
        //     // data.sort({column: 1, desc: true});

        //     var options = {
        //         colorAxis: { colors: ['#6698e3', '#0845a1'] }, // orange to blue
        //         title: 'Average Military Spending (2017)'
        //     };

        //     var chart = new google.visualization.GeoChart(document.getElementById('avg_mil_exp_div'))
        //     chart.draw(data, options)
        // }

        function drawSheetName(sheetName, query, responseHandler) {
            var queryString = encodeURIComponent(query);
            var query = new google.visualization.Query(
                'https://docs.google.com/spreadsheets/d/1G7lTBVmXdCG50A2jVvw8VHGQ1FRwW4ukK3uYq6dQkvQ/gviz/tq?sheet='
                + sheetName + '&headers=1&tq=' + queryString);

            query.send(responseHandler)
        } // drawSheetName

        function drawSheetNameRange(sheetName, query, responseHandler) {
            var queryString = encodeURIComponent(query);
            var query = new google.visualization.Query(
                'https://docs.google.com/spreadsheets/d/1G7lTBVmXdCG50A2jVvw8VHGQ1FRwW4ukK3uYq6dQkvQ/gviz/tq?sheet='
                + sheetName + '&' + queryString);

            query.send(responseHandler)
        } // drawSheetName

        // function eduMilGDPResponseHandler(response) {
        //     var data = response.getDataTable();
        //     data.sort({column: 1, desc: true});

        //     var options = {
        //         title: 'Correlation between Education, Military, and GDP (2017)',
        //         hAxis: { title: 'Year' },
        //         vAxis: { title: 'Spending (millions USD)' }
        //     };

        //     var chart = new google.visualization.BubbleChart(document.getElementById('edumilgdp_div'))
        //     chart.draw(data, options)
        // }

        // function militaryGDPResponseHandler(response) {
        //     var data = response.getDataTable();
            
        //     var options = {
        //         title: 'Military Expenditure per GDP',
        //         hAxis: {title : 'Country'},
        //         vAxis: {title : 'Military Expenditure'}
        //     };

        //     var formatter = new google.visualization.NumberFormat({
        //         fractionDigits: 2
        //     });
        //     formatter.format(data, 1)
        //     formatter.format(data, 2)
        //     formatter.format(data, 3)
        //     formatter.format(data, 4);

        //     var view = new google.visualization.DataView(data);
        //     view.setColumns([0,1,2,3,4, {
        //         calc: function (dt, row) {
        //             return Math.ceil(dt.getFormattedValue(row, 1)) + '%';
        //         },
        //         sourceColumn: 2,
        //         type: 'string',
        //         role: 'annotation'
        //     }]);

        //     var chart = new google.visualization.ColumnChart(document.getElementById('military_gdp_div'));
        //     chart.draw(view, options);
        // } // militaryGDPResponseHandler

        // function healthGDPResponseHandler(response) {
        //     var data = response.getDataTable();
            
        //     var options = {
        //         title: 'Healthcare Expenditure per GDP',
        //         hAxis: {title : 'Country'},
        //         vAxis: {title : 'Healtchcare Expenditure'}
        //     };

        //     var formatter = new google.visualization.NumberFormat({
        //         fractionDigits: 2
        //     });
        //     formatter.format(data, 1)
        //     formatter.format(data, 2)
        //     formatter.format(data, 3)
        //     formatter.format(data, 4);

        //     var view = new google.visualization.DataView(data);
        //     view.setColumns([0,1,2,3,4, {
        //         calc: function (dt, row) {
        //             return Math.ceil(dt.getFormattedValue(row, 2)) + '%';
        //         },
        //         sourceColumn: 1,
        //         type: 'string',
        //         role: 'annotation'
        //     }]);

        //     var chart = new google.visualization.ColumnChart(document.getElementById('health_gdp_div'));
        //     chart.draw(view, options);
        // } // healthGDPResponseHandler

        // function eduGDPResponseHandler(response) {
        //     var data = response.getDataTable();
            
        //     var options = {
        //         title: 'Education Expenditure Per GDP',
        //         hAxis: {title : 'Country'},
        //         vAxis: {title : 'Education Expenditure'}
        //     };

        //     var formatter = new google.visualization.NumberFormat({
        //         fractionDigits: 2
        //     });
        //     formatter.format(data, 1)
        //     formatter.format(data, 2)
        //     formatter.format(data, 3)
        //     formatter.format(data, 4);

        //     var view = new google.visualization.DataView(data);
        //     view.setColumns([0,1,2,3,4, {
        //         calc: function (dt, row) {
        //             return Math.ceil(dt.getFormattedValue(row, 1)) + '%';
        //         },
        //         sourceColumn: 1,
        //         type: 'string',
        //         role: 'annotation'
        //     }]);

        //     var chart = new google.visualization.ColumnChart(document.getElementById('edu_gdp_div'));
        //     chart.draw(view, options);
        // } // eduGDPResponseHandler

        // function eduGDPperCapResponseHandler(response) {
        //     var data = response.getDataTable();
        //     data.sort({column: 1, desc: true});

        //     var options = {
        //         legend: 'none',
        //         bars: 'horizontal',
        //         isStacked: true,
        //         annotation: { alwaysOutside: true },
        //         title: 'Education per Capita versus GDP per Capita in 2017',
        //         vAxis: { title: 'Country' },
        //         hAxis: { title: 'Spending in Millions ($)' }
        //     };

        //     var chart = new google.visualization.BarChart(document.getElementById('edu_gdp_percap_div'))
        //     chart.draw(data, options)
        // } // eduGDPperCapResponseHandler

        // function gdpResponseHandler(response) {
        //     var data = response.getDataTable();
        //     data.sort({column: 1, desc: true});

        //     var options = {
        //         legend: 'none',
        //         curveType: 'function',
        //         title: 'GDP by country',
        //         vAxis: { title: 'Country' },
        //         hAxis: { title: 'GDP (Billions)' }
        //     };

        //     var chart = new google.visualization.LineChart(document.getElementById('gdp_div'))
        //     chart.draw(data, options)
        // }

        // function popResponseHandler(response) {
        //     var data = response.getDataTable();
        //     data.sort({column: 1, desc: true});

        //     var options = {
        //         // legend: 'none',
        //         curveType: 'function',
        //         title: 'Population by Country',
        //         vAxis: { title: 'Country' },
        //         hAxis: { title: 'Population (Millions)' }
        //     };

        //     var chart = new google.visualization.LineChart(document.getElementById('pop_div'))
        //     chart.draw(data, options)
        // }

        // function popNoChinaResponseHandler(response) {
        //     var data = response.getDataTable();
        //     data.sort({column: 1, desc: true});

        //     var options = {
        //         // legend: 'none',
        //         curveType: 'function',
        //         title: 'Population by Country, Excluding China',
        //         vAxis: { title: 'Country' },
        //         hAxis: { title: 'Population (Millions)' }
        //     };

        //     var chart = new google.visualization.LineChart(document.getElementById('pop_nochina_div'))
        //     chart.draw(data, options)
        // }

        // function milGDPperCapResponseHandler(response) {
        //     var data = response.getDataTable();
        //     data.sort({column: 1, desc: true});

        //     var options = {
        //         legend: 'none',
        //         bars: 'horizontal',
        //         isStacked: true,
        //         annotation: { alwaysOutside: true },
        //         title: 'Education per Capita versus GDP per Capita in 2017',
        //         vAxis: { title: 'Country' },
        //         hAxis: { title: 'Spending in Millions ($)' }
        //     };

        //     var chart = new google.visualization.BarChart(document.getElementById('mil_gdp_percap_div'))
        //     chart.draw(data, options)
        // } // milGDPperCapResponseHandler


    </script>
</head>

<body>
    <!-- <h3>GDP</h3>
    <div id='gdp_map_div' style='width: 1000px; height: 500px;'></div>
    <br> -->
    <!-- <h3>Military Exp</h3>
    <div id='avg_mil_exp_div' style='width: 1000px; height: 500px;'></div>
    <br>
    <h3>Military</h3>
    <div id='military_gdp_div' style='width: 1000px; height: 500px;'></div>
    <br> -->
    <!-- <h3>Healthcare</h3>
    <div id='health_gdp_div' style='width: 1000px; height: 500px;'></div>
    <br> -->
    <!-- <h3>Education</h3>
    <div id='edu_gdp_div' style='width: 1000px; height: 500px;'></div>
    <br> -->
    <h3>Education v Health V Mil</h3>
    <div id='edu_health_mil_div' style='width: 1000px; height: 500px;'></div>
    <br>
    <!-- <h3>Education V Mil per Cap 2017</h3>
    <div id='edu_gdp_percap_div' style='width: 1000px; height: 500px;'></div>
    <br> -->
    <!-- <h3>GDP</h3>
    <div id='gdp_div' style='width: 1000px; height: 500px;'></div>
    <br> -->
    <!-- <h3>Population</h3>
    <div id='pop_div' style='width: 1000px; height: 500px;'></div>
    <br> -->
    <!-- <h3>PopulationXChina</h3>
    <div id='pop_nochina_div' style='width: 1000px; height: 500px;'></div>
    <br> -->
    
    <!-- <h3>Military Exp</h3>
    <div id='mil_exp_div' style='width: 1000px; height: 500px;'></div>
    <br> -->
    <!-- EDU MIL GDP
    <div id='edumilgdp_div' style='width: 1000px; height: 500px;'></div>
    <br> -->
    <!-- MIL GDP
    <div id='mil_gdp_percap_div' style='width: 1000px; height: 500px;'></div>
    <br> -->

</body>

</html>